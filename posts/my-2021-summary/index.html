<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="theme" content="Chirpy v2.7.2"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="æˆ‘çš„2021å¹´ç»ˆæ€»ç»“" /><meta name="author" content="Gengxin Li" /><meta property="og:locale" content="en_US" /><meta name="description" content="This is Ligengxinâ€™s Blog, help myself record and share my knowledge. This Blog is a minimal, portfolio, sidebar, bootstrap Jekyll theme with responsive web design and focuses on text presentation." /><meta property="og:description" content="This is Ligengxinâ€™s Blog, help myself record and share my knowledge. This Blog is a minimal, portfolio, sidebar, bootstrap Jekyll theme with responsive web design and focuses on text presentation." /><link rel="canonical" href="/posts/my-2021-summary/" /><meta property="og:url" content="/posts/my-2021-summary/" /><meta property="og:site_name" content="Ligengxinâ€™s Blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-01-01T00:00:00+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="æˆ‘çš„2021å¹´ç»ˆæ€»ç»“" /><meta name="twitter:site" content="@Ligengxin1" /><meta name="twitter:creator" content="@Gengxin Li" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"Gengxin Li"},"description":"This is Ligengxinâ€™s Blog, help myself record and share my knowledge. This Blog is a minimal, portfolio, sidebar, bootstrap Jekyll theme with responsive web design and focuses on text presentation.","url":"/posts/my-2021-summary/","@type":"BlogPosting","headline":"æˆ‘çš„2021å¹´ç»ˆæ€»ç»“","dateModified":"2022-01-01T00:00:00+08:00","datePublished":"2022-01-01T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"/posts/my-2021-summary/"},"@context":"https://schema.org"}</script><title>æˆ‘çš„2021å¹´ç»ˆæ€»ç»“ | Ligengxin's Blog</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="preload" href="/assets/css/post.css" as="style"><link rel="stylesheet" href="/assets/css/post.css"><link rel="preload" as="style" href="/assets/css/lib/bootstrap-toc.min.css"><link rel="stylesheet" href="/assets/css/lib/bootstrap-toc.min.css" /> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="/assets/js/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-ZPEXTB9VTS"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-ZPEXTB9VTS'); }); </script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZPEXTB9VTS"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-ZPEXTB9VTS'); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://avatars3.githubusercontent.com/u/46650314?s=460&u=fe0b26243b450e677f5b3bc9c97c6c5c2d9a81a4&v=4" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Ligengxin's Blog</a></div><div class="site-subtitle font-italic">Be a programmer Don't be a CRUDer</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/tabs/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tabs/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/tabs/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/tabs/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT ME</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/Ligengxin96" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/Ligengxin1" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['ligengxin96','gmail.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG â€º <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); toggle.setDark(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>æˆ‘çš„2021å¹´ç»ˆæ€»ç»“</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>æˆ‘çš„2021å¹´ç»ˆæ€»ç»“</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sat, Jan 1, 2022, 12:00 AM +0800" > Jan 1 <i class="unloaded">2022-01-01T00:00:00+08:00</i> </span> by <span class="author"> Gengxin Li </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2005 words">11 min</span></div></div><div class="post-content"><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/img/2022/01-01/2021.jpg" alt="avatar" /></p><h2 id="1å‰è¨€">1.å‰è¨€</h2><p>â€ƒâ€ƒé¦–å…ˆå›é¡¾ä¸‹<a href="/posts/2021-01-01-my-2020-summary">2020å¹´ç»ˆæ€»ç»“</a>ä¸­çš„æ–°å¹´å±•æœ›çš„å®Œæˆæƒ…å†µ</p><ul class="task-list"><li class="task-list-item" hide-bullet><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />è¡¥å……ä¸‹ Linux ç›¸å…³çŸ¥è¯† (å·²ç»æŒæ¡å¸¸ç”¨çš„ Linux å‘½ä»¤, ç°åœ¨å¼€å‘ç¯å¢ƒå·²ç»å®Œå…¨æ˜¯åœ¨ ubuntu ä¸Šäº†)<li class="task-list-item" hide-bullet><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />å­¦ä¼š CI è‡ªåŠ¨åŒ–çš„ä¸€äº›ä¸œè¥¿ (ç†Ÿç»ƒä½¿ç”¨ Github Action çš„ CI/CD)<li class="task-list-item" hide-bullet><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />å­¦ä¼šä½¿ç”¨Docker (ç†Ÿæ‚‰äº†å¸¸ç”¨çš„ Docker å‘½ä»¤, å¹¶ä¸”èƒ½ä½¿ç”¨ Docker æ¥æ­å»ºå¼€å‘ç¯å¢ƒ)<li class="task-list-item" hide-bullet><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />å­¦ä¹ åç«¯çŸ¥è¯† <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://progress-bar.dev/40" alt="" /> (ç†Ÿæ‚‰äº† SQL, Node.js, TypeScript. æŒæ¡äº† Express, MongoDB, Redis çš„ä½¿ç”¨)</ul><p>â€ƒâ€ƒæ€»çš„æ¥è¯´,æˆ‘å¯¹è‡ªå·±åœ¨ 2020 æ–°å¹´æœŸæœ›çš„å®ŒæˆçŠ¶å†µæ‰“ä¸ª 80 åˆ†çš„. æ²¡æœ‰æ»¡åˆ†çš„åŸå› æ˜¯å› ä¸ºå¯¹äºåç«¯çš„æ•°æ®åº“, å¾®æœåŠ¡ä»¥åŠåˆ†å¸ƒå¼ç³»ç»Ÿç›¸å…³çš„çŸ¥è¯†,æˆ‘è¿˜æ²¡æœ‰æ·±å…¥çš„ç ”ç©¶. è¿™å…¶ä¸­æœ‰ä¸€äº›å®¢è§‚åŸå› å’Œä¸»è§‚åŸå› . å› ä¸ºæˆ‘å¹¶ä¸çŸ¥é“éœ€è¦åšäº›ä»€ä¹ˆä¸œè¥¿èƒ½è®©æˆ‘å»å®è·µè¿™äº›ä¸œè¥¿.æ„Ÿè§‰åªæœ‰åœ¨å®é™…å·¥ä½œä¸­æ‰èƒ½å¤Ÿå¾ˆå¥½çš„ç†è§£è¿™äº›ä¸œè¥¿.</p><h2 id="2-2021-å¹´æ”¶è·æ€»ç»“">2. 2021 å¹´æ”¶è·æ€»ç»“</h2><p>â€ƒâ€ƒ2021 å¹´å…¶ä»–çš„ä¸€äº›æ”¶è·å’Œæˆæœçš„, åœ¨è¿™ 2021 å¹´é‡Œ,çœ‹å®Œçš„ä¹¦ä¸ç®—å¤šåªæœ‰ ã€Šæ·±å…¥æµ…å‡ºNode.jsã€‹ ã€ŠJavascript è®¾è®¡æ¨¡å¼ä¸å¼€å‘å®è·µã€‹ å’Œã€ŠTypeScript ç¼–ç¨‹ã€‹, è¿˜æœ‰æ­£åœ¨çœ‹ã€ŠRedis è®¾è®¡ä¸å®ç°ã€‹.</p><p>â€ƒâ€ƒç®€å•è°ˆè°ˆ ã€Šæ·±å…¥æµ…å‡ºNode.jsã€‹ è¯»åæ„Ÿ, è¿™æœ¬ä¹¦è®©æˆ‘å¯¹ Node.js æœ‰äº†ä¸€ä¸ªå…¨é¢çš„äº†è§£.è®©æˆ‘å¯¹ Node.js æœ‰äº†ä¸€ä¸ªå…¨æ–°çš„äº†è§£, ä»¥å‰ Node.js ç»å¸¸è¢«è¯Ÿç—…è¯´æ€§èƒ½é—®é¢˜,åœ¨æˆ‘çœ‹æ¥åœ¨é CPU å¯†é›†çš„ä¸šåŠ¡ä¸­(å…¶å®å¤§éƒ¨åˆ†ä¸šåŠ¡éƒ½æ˜¯æ•°æ®åº“I/Oå’Œç½‘ç»œI/O), Node.js æ€§èƒ½å¹¶ä¸å·®,è€Œä¸”å¤©ç”Ÿçš„å¼‚æ­¥ I/O æ¨¡å‹å¯¼è‡´å…¶èƒ½å¾ˆé«˜æ•ˆçš„åˆ©ç”¨ CPU, è€Œä¸” Node.js çš„ cluster æ¨¡å—ä¹Ÿèƒ½è®©æœºå™¨çš„å¤šæ ¸ CPU éƒ½å¾—åˆ°åˆ©ç”¨, è€Œä¸” åœ¨ Node.js 12.11.0, <code class="language-plaintext highlighter-rouge">worker_threads</code> æ¨¡å—æ­£å¼è¿›å…¥ç¨³å®šç‰ˆ, <code class="language-plaintext highlighter-rouge">worker_threads</code> è¡¥é½äº† Node.js CPU å¯†é›†æ“ä½œæ€§èƒ½ä¸ä½³çš„çŸ­æ¿. å½“ç„¶åœ¨ TypeScript æ²¡æœ‰å‡ºç°å‰,åœ¨åç«¯æ²¡æœ‰æ•°æ®ç±»å‹è¢«è®¤ä¸ºæ˜¯éå¸¸å±é™©çš„,è€Œ TypeScript çš„å‡ºç°ä¹Ÿè§£å†³äº†è¿™ä¸ªé—®é¢˜.è™½ç„¶æˆ‘è¿˜ç®—æŒºå–œæ¬¢ Node.js çš„ä½†æ˜¯å¦‚æœä¸è€ƒè™‘è¦æ‰¾å·¥ä½œçš„è¯, æˆ‘è¿˜æ˜¯æŒºæƒ³å»å­¦ä¹  Go å’Œ Rust çš„.</p><p>â€ƒâ€ƒã€ŠJavascript è®¾è®¡æ¨¡å¼ä¸å¼€å‘å®è·µã€‹ è¿™æœ¬ä¹¦ç»™æˆ‘å°è±¡ä¸æ˜¯å¾ˆæ·±,æˆ‘åªæ˜¯ç†Ÿæ‚‰äº†ä¸‹å¸¸è§çš„è®¾è®¡æ¨¡å¼.å¯èƒ½ä»¥åè¿›å…¥æ¯”è¾ƒå¤§çš„å·¥ç¨‹åä¼šæœ‰æ›´æ·±çš„ä½“ä¼šå§.</p><p>â€ƒâ€ƒã€ŠTypeScript ç¼–ç¨‹ã€‹ è¿™æœ¬ä¹¦è¯´æ—¶å€™å¹¶ä¸ç®—ä¸€æœ¬å¥½ä¹¦,å› ä¸ºæˆ‘å‘ç°è¿™æœ¬ä¹¦ä¸Šè®²çš„å†…å®¹å¤§éƒ¨åˆ†æˆ‘å·²ç»çŸ¥é“äº†æˆ–è€…ä¸€äº›å¼€å‘ä¸­å¹¶ä¸å¸¸ç”¨çš„çŸ¥è¯†.</p><p>â€ƒâ€ƒã€ŠRedis è®¾è®¡ä¸å®ç°ã€‹ è¿™æœ¬ä¹¦æˆ‘ç°åœ¨åªçœ‹å®Œäº† Redis åº•å±‚æ•°æ®ç»“æ„çš„å®ç°, åªèƒ½æ„Ÿå¹ä¸‹.æ•°æ®è§£æ„çš„è®¾è®¡èƒ½ç»™æ€§èƒ½å¸¦æ¥æå¤§çš„æå‡.</p><p>â€ƒâ€ƒæ¥ä¸‹æ¥ä»‹ç»ä¸‹æˆ‘çš„ä¸€äº›é¡¹ç›®æˆæœ. 2021 å¹´è®©æˆ‘æœ€å¼€å¿ƒçš„äº‹æƒ…å°±æ˜¯: ç¬¬ä¸€æ¬¡æŠŠæˆ‘è‡ªå·±çš„ idea é€šè¿‡è‡ªå·±çš„åŠªåŠ›ç”¨ä»£ç å®ç°äº†å‡ºæ¥.</p><p>â€ƒâ€ƒ<a href="https://github.com/Ligengxin96/FetchBingDailyImage">FetchBingDailyImage</a> è¿™ä¸ªé¡¹ç›®æ˜¯å½“æ—¶æ‰‹ç—’,æ€»æƒ³ç”¨ Node.js åšåç«¯ç»ƒç»ƒæ‰‹.è¿™ä¸ªé¡¹ç›®åªæ˜¯ä¸€ä¸ªç®€å•çš„ç¨‹åº, æ¯å¤©å»è·å– Bing å›¾ç‰‡çš„æ¯æ—¥ä¸€å›¾, å¹¶ä¸”å°†å›¾ç‰‡ä¿å­˜åˆ°æˆ‘çš„æ•°æ®åº“é‡Œé¢.è¿™ä¸ªé¡¹ç›®è™½ç„¶ç®€å•, ä½†æ˜¯æˆ‘è§‰å¾—æ›´è®©æˆ‘èŠ±æ—¶é—´çš„æ˜¯æ€ä¹ˆè®©æˆ‘è¿™ä¸ªé¡¹ç›®æ¯å¤©è‡ªåŠ¨åŒ–å»è·å–å›¾ç‰‡.ä¸çŸ¥é“ä¸ºä»€ä¹ˆ,è®©ç¨‹åºè‡ªåŠ¨åŒ–èµ·æ¥æ€»æ˜¯èƒ½è®©äººéå¸¸å¼€å¿ƒ.å¦‚æœä½ æœ‰æœåŠ¡å™¨,è‡ªåŠ¨åŒ–èµ·æ¥æ˜¯å¾ˆæ–¹ä¾¿,ä½†æ˜¯æˆ‘å½“æ—¶å¹¶æ²¡æœ‰è‡ªå·±çš„æœåŠ¡å™¨.æ‰€ä»¥ä¸ºäº†æŠ€æœ¯æ€§ç™½å«–è¿˜æ˜¯èŠ±äº†ä¸€ç‚¹æ—¶é—´å»æŠ˜è…¾.é¦–å…ˆæ˜¯æˆ‘å› ä¸ºæ²¡æœ‰æœåŠ¡å™¨åªèƒ½éƒ¨ç½²åˆ° Heroku(éƒ¨ç½²å®Œæˆå, Heroku ä¼šè¿è¡Œ npm start å¯åŠ¨æœåŠ¡), å½“ç„¶è¿™é‡Œæœ‰ç”¨äº†åˆ«äººçš„ Git Action å®ç°äº†è‡ªåŠ¨åŒ–éƒ¨ç½².åœ¨ç”¨è‡ªåŠ¨åŒ–éƒ¨ç½²çš„ Git Action çš„æˆ‘å‘ç°åªéœ€è¦æ›´æ–°ä¸‹ repo ä¸­çš„æ–‡ä»¶å°±èƒ½è§¦å‘è‡ªåŠ¨åŒ–éƒ¨ç½², ç„¶åæˆ‘å°±æƒ³åˆ°äº†æ¯å¤©è‡ªåŠ¨åŒ–æ›´æ–° Readme æ–‡ä»¶æ¥è§¦å‘è‡ªåŠ¨åŒ–éƒ¨ç½², æ‰€ä»¥æˆ‘åˆè‡ªå·±å†™äº†ä¸€ä¸ª Git Action <a href="https://github.com/Ligengxin96/github-update-readme">(github-update-readme</a>)æ¥è‡ªåŠ¨æ›´æ–° Readme æ–‡ä»¶. ç„¶å Git Action å¯ä»¥å®šæ—¶ä¸ºæ¯å¤©æ‰§è¡Œ, è¿™æ ·å°±èƒ½æ¯å¤©è§¦å‘è‡ªåŠ¨åŒ–éƒ¨ç½²,æœ€ç»ˆè¾¾åˆ°åœ¨æ²¡æœ‰è‡ªå·±çš„æœåŠ¡å™¨ä¹Ÿèƒ½æ¯å¤©æ‰§è¡Œæˆ‘çš„å®šæ—¶ä»»åŠ¡.</p><p>â€ƒâ€ƒ<a href="https://github.com/Ligengxin96/Ours-Album">Ours-Album</a> è¿™ä¸ªé¡¹ç›®åªæ˜¯å› ä¸ºæƒ³æŠŠæŠ“å–çš„ Bing æ¯å¤©å›¾ç‰‡å±•ç¤ºå‡ºæ¥è€Œä¸”,è¿™æ˜¯ä¸€ä¸ªå…¨æ ˆé¡¹ç›®. è¿™ä¸ªé¡¹ç›®çš„åç«¯å·¥ç¨‹å¯ä»¥ç®—æ˜¯ä¸€ä¸ªæ¯”è¾ƒå®Œæ•´çš„ Node.js åç«¯é¡¹ç›®,ä¹Ÿç®—æ˜¯æˆ‘ç¬¬ä¸€ä¸ªå…¥é—¨ Node.js åç«¯çš„å·¥ç¨‹. åœ¨å¼€å‘è¿™ä¸ªé¡¹ç›®ä¸­ä½¿ç”¨ MongoDB çš„æ—¶å€™, å› ä¸ºç®—æ˜¯æˆ‘ç¬¬ä¸€æ¬¡ä½¿ç”¨ MongoDB, æ‰€ä»¥åœ¨å†™ MongoDB çš„ query çš„æ—¶å€™ä¸æ˜¯å¾ˆç†Ÿç»ƒ, äºæ˜¯æˆ‘å°±å†™äº†ä¸€ä¸ªå·¥å…·: <a href="https://github.com/Ligengxin96/sql-in-mongodb">sql-in-mongodb</a>, è¿™ä¸ªå·¥å…·å¯ä»¥æŠŠæˆ‘åœ¨<code class="language-plaintext highlighter-rouge">SQL</code>ç¿»è¯‘æˆ MongoDB çš„ query. ä¸¾ä¸ªä¾‹å­</p><div class="language-js highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="c1">// for commonjs:  const SQLParser = require('sql-in-mongodb');</span>
<span class="k">import</span> <span class="nx">SQLParser</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">sql-in-mongodb</span><span class="dl">'</span><span class="p">;</span>
<span class="c1">// database data: {a: 1, b: 2}</span>
<span class="kd">const</span> <span class="nx">sqlQuery</span> <span class="o">=</span> <span class="s2">`where a = 1`</span><span class="p">;</span> <span class="c1">// you also can use: `select * from tablename where a = 1`</span>
<span class="kd">const</span> <span class="nx">parser</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SQLParser</span><span class="p">();</span>
<span class="kd">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">TestModel</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="nx">parser</span><span class="p">.</span><span class="nx">parseSql</span><span class="p">(</span><span class="nx">sqlQuery</span><span class="p">));</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">data</span><span class="p">));</span> <span class="c1">// output [{a: 1, b: 2}]</span>
</pre></table></code></div></div><p>â€ƒâ€ƒå½“æ—¶ä»¥ä¸ºå†™å®Œè¿™ä¸ªå·¥å…·å¯ä»¥å¾ˆçœäº‹,è¿™æ ·å°±ä¸éœ€è¦çœ‹ MongoDB æ–‡æ¡£æ€ä¹ˆå†™ query äº†, ä½†æ˜¯å†™å®Œè¿™ä¸ªå·¥å…·å‘ç°,æˆ‘å·²ç»ç†Ÿæ‚‰æ€ä¹ˆå†™ MongoDB query äº†â€¦</p><p>â€ƒâ€ƒä¸è¿‡ä»Šå¹´æœ€å¤§çš„æ”¶è·è¿˜æ˜¯äº¤äº†ä¸€ä¸ªå¥³æœ‹å‹ ğŸ˜Š.æ„Ÿæƒ…ç»å†è™½ç„¶ä¸€æ³¢ä¸‰æŠ˜,ä½†ç›®å‰æ€»å½’è¿˜æ˜¯å‘å¥½çš„æ–¹å‘èµ°.</p><p>â€ƒâ€ƒ 2021 å¹´ 12æœˆåˆçš„æ—¶å€™æˆ‘è¾èŒäº†.å› ä¸ºä»Šå¹´ä¸€å¹´é‡Œæˆ‘çš„å·¥ä½œæ„Ÿè§‰æ¯«æ— æŒ‘æˆ˜åˆæ²¡æœ‰æ·±åº¦.æ‰€ä»¥è¿˜æ˜¯æƒ³è·³å‡ºèˆ’é€‚åœˆ,å‡ºæ¥æ‰¾äº†ä¸€ä»½åç«¯çš„å·¥ä½œ. å½“æ—¶è¿˜æ˜¯ç‰¹åœ°é€‰äº†ä¸€å®¶åˆ›ä¸šå…¬å¸, ä»¥ä¸ºå¯ä»¥ä» 0 åˆ° 1 å»ç†Ÿæ‚‰æ•´ä¸ªåç«¯é¡¹ç›®çš„å¼€å‘æµç¨‹. è¿™æ ·æˆ‘èƒ½å­¦åˆ°çš„ä¸œè¥¿å¾ˆå¤š, ä½†æ˜¯å…¥èŒåå‘ç°. è¯´å¥½çš„ Code Reivew æ²¡æœ‰,è¯´å¥½çš„ CI/CD å’Œå•å…ƒæµ‹è¯•ä¹Ÿæ²¡æœ‰. æˆ‘å°±æƒ³, æ²¡æœ‰çš„è¯æˆ‘æ¥å¸®å¿™æ„å»ºä¸‹è¿™äº›åŸºç¡€è®¾æ–½. ç»“æœå¤©å¤©è¢«æ‹‰å»å†™ä¸šåŠ¡ä»£ç è€Œæ²¡æœ‰æ—¶é—´æè¿™äº›. åšæŒäº†ä¸€ä¸ªæœˆæƒ³çœ‹çœ‹æœ‰ä»€ä¹ˆè½¬å˜. ç»“æœå‘ç°å¹¶æ²¡æœ‰. æˆ‘å®åœ¨æ— æ³•è®¤è¯†å¿å—æ²¡æœ‰ CI/CD å’Œå•å…ƒæµ‹è¯•çš„å·¥ä½œç¯å¢ƒ,è¿™ç®€ç›´è®©æˆ‘æ„Ÿè§‰å›åˆ°äº†æˆ‘çš„ç¬¬ä¸€ä»½å·¥ä½œçš„æ ·å­, é‚£äº›å¼€å‘ä¸­é‡åˆ°çš„é—®é¢˜å†å†åœ¨ç›®, æƒ³æƒ³å°±ææ€–. å…¶å®æ²¡æœ‰ Code Reivew ä¹ŸæŒºéš¾å—çš„, è¿™æ ·å°±å°‘äº†å¾ˆå¤šæŠ€æœ¯å’Œç»éªŒçš„äº¤æµ. æˆ‘è¿˜æ˜¯æœŸæœ›å¾…åœ¨æœ‰æŠ€æœ¯äº¤æµçš„å›¢é˜Ÿé‡Œ. è¿™ä»½å·¥ä½œç»å†æ—¶é•¿ 1 ä¸ªæœˆåæˆ‘å°±æå‡ºäº†ç¦»èŒ.ä¸è¿‡å‘¢,åœ¨å…¬å¸å„ä½é¢†å¯¼çš„åŠè¯´ä¸‹,å¹¶ä¸” CTO ä¹Ÿå†³å®šç»™æˆ‘èµ„æºè®©æˆ‘æ¥æ¥æŠŠå›¢é˜Ÿçš„å¼€å‘è§„èŒƒèµ·æ¥,ä»¥åŠå›¢é˜Ÿä¸­çš„å…¶ä»–é—®é¢˜è§£å†³æ‰.æ‰€ä»¥æˆ‘è¿˜æ˜¯å†³å®šäº†ç•™ä¸‹æ¥.</p><h2 id="3æ–°å¹´çš„å±•æœ›">3.æ–°å¹´çš„å±•æœ›</h2><p>â€ƒâ€ƒæˆ‘å¸Œæœ›åœ¨æ¥ä¸‹æ¥çš„ 2022 å¹´èƒ½å…ˆæŠŠå›¢é˜Ÿå¸¦ä¸Šè§„èŒƒçš„é“è·¯å§, è¿™ä»½å·¥ä½œæˆ‘å¸Œæœ›èƒ½ç¨³å®š 3 å¹´,è®©æˆ‘èƒ½åœ¨åç«¯é¢†åŸŸæœ‰ä¸€å®šçš„æŠ€æœ¯æ·±åº¦å’Œç»éªŒçš„ç§¯ç´¯. å¦‚æœä»¥åæœ‰åˆ›ä¸šçš„æ‰“ç®—, ä¹Ÿèƒ½å¤Ÿç‹¬å½“ä¸€é¢,æ‰›èµ·å¤§æ——. 2022 Fighting!</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/summary/'>Summary</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/summary/" class="post-tag no-text-decoration" >Summary</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=æˆ‘çš„2021å¹´ç»ˆæ€»ç»“ - Ligengxin's Blog&url=/posts/my-2021-summary/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=æˆ‘çš„2021å¹´ç»ˆæ€»ç»“ - Ligengxin's Blog&u=/posts/my-2021-summary/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=æˆ‘çš„2021å¹´ç»ˆæ€»ç»“ - Ligengxin's Blog&url=/posts/my-2021-summary/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/node-js/">Node.js</a> <a class="post-tag" href="/tags/react-js/">React.js</a> <a class="post-tag" href="/tags/sql-server/">SQL Server</a> <a class="post-tag" href="/tags/transact-sql/">Transact-SQL</a> <a class="post-tag" href="/tags/summary/">Summary</a> <a class="post-tag" href="/tags/ant-design/">Ant Design</a> <a class="post-tag" href="/tags/azure/">Azure</a> <a class="post-tag" href="/tags/distributed-lock/">Distributed Lock</a> <a class="post-tag" href="/tags/docker/">Docker</a> <a class="post-tag" href="/tags/dokcer/">Dokcer</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/my-2019-experience-and-thinking/"><div class="card-body"> <span class="timeago small" > May 13, 2020 <i class="unloaded">2020-05-13T00:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>ç¬¬ä¸€å¹´çš„å·¥ä½œç»å†å’Œæƒ³æ³•(2019-2020)</h3><div class="text-muted small"><p> 2019-04-01 å®ä¹ åœ¨äºæ­¦æ±‰æŸå®¶æ€»éƒ¨ä½äºç¦å·çš„ä¼ ç»Ÿé‡‘èITä¼ä¸š 2019-07-01 æ¯•ä¸šäºæ­¦æ±‰ä¸€æ‰€åŒéå¤§å­¦ ä¸æ­¤åŒæ—¶æ­£å¼å…¥èŒå®ä¹ å…¬å¸ 2020-03-11 ç¦»èŒ,æˆ‘ä¸ºä»€ä¹ˆç¦»èŒå‘¢?ä¸»è¦æ˜¯ä¸‰ä¸ªåŸå› : â€ƒâ€ƒä¸€.ç–«æƒ…åŸå› ,å®¶äººä¸æƒ³è®©æˆ‘å›æ­¦æ±‰. â€ƒâ€ƒäºŒ.å› ä¸ºå¤§å­¦è®¤è¯†çš„ä¸€ä½å­¦éœ¸å¤§ä½¬åœ¨ä¸Šæµ·,ç›®å‰è¾¾åˆ°ä»–é‚£ä¸ªæ°´å¹³æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ªç›®æ ‡. â€ƒâ€ƒä¸‰.ä¸ªäººåŸå› .å…¥èŒäº†å…¬å¸åå‘ç°,å›¢é˜Ÿçš„äººéƒ½å¾ˆå¹´è½»,é™¤äº†...</p></div></div></a></div><div class="card"> <a href="/posts/my-2020-summary/"><div class="card-body"> <span class="timeago small" > Jan 1, 2021 <i class="unloaded">2021-01-01T00:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>æˆ‘çš„2020å¹´ç»ˆæ€»ç»“</h3><div class="text-muted small"><p> 1.å‰è¨€ â€ƒâ€ƒä»Šå¹´æˆ‘è§‰å¾—æœ€æˆåŠŸçš„ä¸€ä¸ªå†³å®šå°±æ˜¯4æœˆä»½è·³æ§½æ¥äº†ä¸Šæµ·,è·³æ§½çš„åŸå› å¯ä»¥çœ‹è¿™ç¯‡blog.å› ä¸ºæ¥ä¸Šæµ·åæ„Ÿè§‰è‡ªå·±æ‰çœŸæ­£è¸å…¥äº†ç¨‹åºä¸–ç•Œ.è¿™ä»½æ–°å·¥ä½œè®©æˆ‘è§è¯†äº†ä¸å°‘æ–°ä¸œè¥¿,è®©å»å¹´åˆšæ¯•ä¸šçš„,è®¤ä¸ºç¨‹åºçš„ä¸–ç•Œåªæœ‰java webçš„æˆ‘çš„è§†é‡ä¸€ä¸‹å­æ‰©å®½äº†å¥½å¤š.å½“ç„¶,ä¹Ÿæ€ªä»¥å‰è‡ªå·±å¤ªèœ,è·å–ä¿¡æ¯çš„å§¿åŠ¿ä¸å¯¹,æ‰€ä»¥å¯¼è‡´åœ¨ç½‘ä¸Šæ‰¾çš„èµ„æºå¤§éƒ¨åˆ†éƒ½æ˜¯å…³äºjava webç›¸å…³çš„. 2. å­¦ä¹ æ–¹é¢ â€ƒâ€ƒä»¥å‰åœ¨å­¦æ ¡çš„...</p></div></div></a></div><div class="card"> <a href="/posts/use-minikube-build-kubernetes/"><div class="card-body"> <span class="timeago small" > Nov 26 <i class="unloaded">2022-11-26T00:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>ä½¿ç”¨ minikube æ­å»º kubernetes é›†ç¾¤</h3><div class="text-muted small"><p> â€ƒâ€ƒ æœ¬æ–‡ä½¿ç”¨çš„ç³»ç»Ÿæ¶æ„ä¸ºUbuntu 20.04/22.04, CPUæ¶æ„ä¸ºx86-64. kubectl ç‰ˆæœ¬ä¸º1.23.0, minikubeç‰ˆæœ¬ä¸º1.28.0 1.å®‰è£…kubectl kubectl æ˜¯ kubernetes çš„æ“ä½œå·¥å…·, ä¸ç®¡æ˜¯ kubernetes è¿˜æ˜¯çš„ minikube,éƒ½ç”¨ kubectl è¿›è¡Œæ“ä½œ.é˜¿é‡Œäº‘ä¸Šçš„ kubernetes åªéœ€è¦ç»™ kubect...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/my-distribution-lock-solution/" class="btn btn-outline-primary"><p>åŸºäº Redis çš„åˆ†å¸ƒå¼é”çš„å®ç°æ–¹æ¡ˆ</p></a> <a href="/posts/node.js-event-loop/" class="btn btn-outline-primary"><p>é‡æ–°ç†è§£ Node.js äº‹ä»¶å¾ªç¯</p></a></div><div id="gitalk-container"> <script> const gitalk = new Gitalk({ clientID: 'ef43f800a04cc65684b8', clientSecret: '60713915b72af48819c6e0389766198a7410ee48', repo: 'Blog', owner: 'Ligengxin96', admin: ['Ligengxin96'], id: location.pathname, distractionFreeMode: false }); gitalk.render('gitalk-container') </script></div></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('.post-content img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> Â© 2022 <a href="https://twitter.com/Ligengxin1">Gengxin Li</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/node-js/">Node.js</a> <a class="post-tag" href="/tags/react-js/">React.js</a> <a class="post-tag" href="/tags/sql-server/">SQL Server</a> <a class="post-tag" href="/tags/transact-sql/">Transact SQL</a> <a class="post-tag" href="/tags/summary/">Summary</a> <a class="post-tag" href="/tags/ant-design/">Ant Design</a> <a class="post-tag" href="/tags/azure/">Azure</a> <a class="post-tag" href="/tags/distributed-lock/">Distributed Lock</a> <a class="post-tag" href="/tags/docker/">Docker</a> <a class="post-tag" href="/tags/dokcer/">Dokcer</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script>
