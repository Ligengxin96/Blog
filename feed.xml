<feed xmlns="http://www.w3.org/2005/Atom"> <id></id><title>Ligengxin's Blog</title><subtitle>This is Ligengxin's Blog, help myself record and share my knowledge. This Blog is a minimal, portfolio, sidebar, bootstrap Jekyll theme with responsive web design and focuses on text presentation.</subtitle> <updated>2023-03-19T21:29:25+08:00</updated> <author> <name>Gengxin Li</name> <uri></uri> </author><link href="/feed.xml" rel="self" type="application/atom+xml" /><link href="" rel="alternate" type="text/html" /> <generator uri="https://jekyllrb.com/" version="4.2.0">Jekyll</generator> <rights> © 2023 Gengxin Li </rights> <icon>/assets/img/favicons/favicon.ico</icon> <logo>/assets/img/favicons/favicon-96x96.png</logo> <entry><title>Node.js对接招行支付国密算法SM2加解签问题</title><link href="/posts/nodejs-cmb-pay-sm2-issues/" rel="alternate" type="text/html" title="Node.js对接招行支付国密算法SM2加解签问题" /><published>2023-02-07T00:00:00+08:00</published> <updated>2023-02-07T00:00:00+08:00</updated> <id>/posts/nodejs-cmb-pay-sm2-issues/</id> <content src="/posts/nodejs-cmb-pay-sm2-issues/" /> <author> <name>Gengxin Li</name> </author> <category term="Tutorial" /> <summary>   业务需求需要对接招行支付,在对接过程中遇到了一个问题,就是招行支付的签名算法是国密算法 SM2,第一次接触这个算法但是对接支付经验丰富的我还是第一时间去找相关的库来完成报文的加签解签。不一会我就找到了相关库sm-crypto.看完文档觉得没啥问题,直接开干.   结果刚开始就遇到了第一个问题，招行提供的开发(测试)环境的公钥是:”MFkwEwYHKoZIzj0CAQYIKoEcz1UBgi0DQgAE6Q+fktsnY9OFP+LpSR5Udbxf5zHCFO0PmOKlFNTxDIGl8jsPbbB/9ET23NV+acSz4FEkzD74sW2iiNVHRLiKHg==” 这个格式看着就跟 sm-crypto 文档里面的公钥格式不一样。但是我一开始没多想，以为这个公钥只不过是做了一个 base64 的编码。于是我就直接把这个公钥进行了 base64 解码，然后把解码后的数据... </summary> </entry> <entry><title>如何构建一个 C2C NFT 交易市场</title><link href="/posts/how-to-build-c2c-nft-market/" rel="alternate" type="text/html" title="如何构建一个 C2C NFT 交易市场" /><published>2023-01-10T00:00:00+08:00</published> <updated>2023-01-10T00:00:00+08:00</updated> <id>/posts/how-to-build-c2c-nft-market/</id> <content src="/posts/how-to-build-c2c-nft-market/" /> <author> <name>Gengxin Li</name> </author> <category term="Tutorial" /> <summary>   我写的 C2C NFT 交易市场项目已经上线了，已经稳定运行了一段时间了。这也是对我来说非常有成就感的事情，所以准备详细的介绍下整个项目的交易流程的从0到1的设计和实现。后端项目使用的技术栈是 Node.js + TypeScript + Nest.js + MySQL + Redis + kubenetes。消息队列使用的是 Redis 的 Stream 实现的。 交易流程图的梳理   因为我经验不多，而且业务相对很重要不容出错，所以开发前我首先是将流程图画了出来，这样可以帮助我更清晰的梳理整个业务流程的逻辑，也可以更好的发现业务流程中的 Bug.   业务的完整逻辑主要体现在时序图里面，流程图描述的是时序图中的关键步骤的具体实现。 上架NFT 上架NFT时序图 上架NFT创建卖单流程图 上架NFT流程图 上架NFT消息处理流程图 下单购买NFT 下单购买NFT流... </summary> </entry> <entry><title>如何在上链前确定一笔交易的transaction hash</title><link href="/posts/how-to-get-transaction-hash-before-send/" rel="alternate" type="text/html" title="如何在上链前确定一笔交易的transaction hash" /><published>2023-01-05T00:00:00+08:00</published> <updated>2023-01-05T00:00:00+08:00</updated> <id>/posts/how-to-get-transaction-hash-before-send/</id> <content src="/posts/how-to-get-transaction-hash-before-send/" /> <author> <name>Gengxin Li</name> </author> <category term="Tutorial" /> <summary> 1.发现的问题   在做区块链项目的时候，一个核心的问题就是如何保证链上数据和数据库数据的数据一致性。比如一个订单，用户在购买后到发货。到底是先去链上 mint nft 给用户后再把订单状态改成已发货还是先改成已发货再去链上 mint nft 发送给用户？ 2.分析问题   我们来分析下这两个情况 先 mint 后改订单状态，这会导致用户在链上已经拥有了 nft，但是数据库中的订单状态还是未发货，这个时候如果系统崩溃,那么订单状态就会一直停留再未发货，如果系统中有什么自动补发机制的会那么可能就会导致用户再收到一个 nft，存在重复发货的问题。 先改订单状态后 mint，这样就会导致用户在数据库中的订单状态已经是已发货了，但是链上还没有 mint nft，这个时候如果系统崩溃，那么用户会存在商品未到账的情况，运营压力会很大。   对于我遇到的情况来说，重复发货的问题是无... </summary> </entry> <entry><title>我的2022年终总结</title><link href="/posts/my-2022-summary/" rel="alternate" type="text/html" title="我的2022年终总结" /><published>2023-01-01T00:00:00+08:00</published> <updated>2023-01-01T00:00:00+08:00</updated> <id>/posts/my-2022-summary/</id> <content src="/posts/my-2022-summary/" /> <author> <name>Gengxin Li</name> </author> <category term="Summary" /> <summary> 1. 2022 年终总结   2022年算是一个我过得非常复杂的一年，有3件事情对我影响比较大吧。一是今年和女朋友分手了，二是公司上线的项目没走下去，三是因为疫情影响在家远程办公了一年，所以下半年搬家去了南昌住了半年体会了下二线城市的生活，体验了下岁月静好。 也可能是工作太忙了疏忽了女朋友的感受，大大小小吵架不少。最终还是没有走到最后，加上最后6月份公司的项目最后还是没有运营下去了，这两个事情也导致我沉闷了半年。想想这个项目为之加了那么多班。最后却没有收获，虽然一开始就告诉了自己不要抱太多希望，但是最终结果摆在面前的时候还是有点不甘心。   不过呢在今年我在项目的压力中快速成长，也在技术上收获了很多。因为我一直认为，一个人只能在有压力的情况下才能快速成长，并且只有在不断的做一些没尝试过的事情才能更快的扩展你的边界。所以在工作上我一般也是主动去做一些复杂和没有经历过的项目。因为没... </summary> </entry> <entry><title>使用 minikube 搭建 kubernetes 集群</title><link href="/posts/use-minikube-build-kubernetes/" rel="alternate" type="text/html" title="使用 minikube 搭建 kubernetes 集群" /><published>2022-11-26T00:00:00+08:00</published> <updated>2022-11-26T00:00:00+08:00</updated> <id>/posts/use-minikube-build-kubernetes/</id> <content src="/posts/use-minikube-build-kubernetes/" /> <author> <name>Gengxin Li</name> </author> <category term="Tools" /> <category term="Tutorial" /> <summary>    本文使用的系统架构为Ubuntu 20.04/22.04, CPU架构为x86-64. kubectl 版本为1.23.0, minikube版本为1.28.0 1.安装kubectl kubectl 是 kubernetes 的操作工具, 不管是 kubernetes 还是的 minikube,都用 kubectl 进行操作.阿里云上的 kubernetes 只需要给 kubectl 加上对应的配置即可操作阿里云上的 kubernetes 集群.参考通过kubectl连接Kubernetes集群 用 curl 命令下载最新发行版： curl -LO "https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl ... </summary> </entry> </feed>
